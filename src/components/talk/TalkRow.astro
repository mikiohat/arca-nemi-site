---
interface Props {
    speaker: "arca" | "nemi";
    text: string;
}

const { speaker, text } = Astro.props;
const isArca = speaker === "arca";
---

<div class={`talk-row ${isArca ? "talk-row--arca" : "talk-row--nemi"}`}>
    <div class="talk-row__character">
        <div
            class={`character-band ${isArca ? "character-band--arca" : "character-band--nemi"}`}
        >
            <!-- ã“ã“ã¯å¥½ããªã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã«å·®ã—æ›¿ãˆã¦OK -->
            <img
                src={isArca
                    ? "/assets/arca-normal.svg"
                    : "/assets/nemi-normal.svg"}
                alt={isArca ? "Arca" : "Nemi"}
                class="character-band__icon"
                loading="lazy"
            />
        </div>
    </div>

    <div class="talk-row__bubble">
        <div class="bubble">
            {text}
        </div>
    </div>
</div>

<style>
    .talk-row {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        margin-block: 0.75rem;
    }

    /* ã‚¢ãƒ«ã‚«ã¯å·¦ãƒ»ãƒãƒŸã¯å³ï¼ˆå·¦å³åè»¢ï¼‰ */
    .talk-row--arca {
        flex-direction: row;
    }

    .talk-row--nemi {
        flex-direction: row-reverse;
    }

    .talk-row__character {
        flex: 0 0 26%;
    }

    .talk-row__bubble {
        flex: 1 1 auto;
    }

    .character-band {
        border-radius: 0.75rem;
        padding: 0.4rem 0.35rem;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* ğŸ¨ é…è‰²ï¼šã‚¢ãƒ«ã‚«ï¼é’ç³»ã€ãƒãƒŸï¼èµ¤ç³» */
    .character-band--arca {
        background: #2d6cdf; /* ãŠå¥½ã¿ã§é’ç³»ã«èª¿æ•´ã—ã¦OK */
    }

    .character-band--nemi {
        background: #e2574c; /* ãŠå¥½ã¿ã§èµ¤ç³»ã«èª¿æ•´ã—ã¦OK */
    }

    .character-band__icon {
        display: block;
        width: 100%;
        height: auto;
    }

    .bubble {
        background: #ffffff;
        border-radius: 0.75rem;
        padding: 0.75rem 0.9rem;
        box-shadow: 0 2px 4px rgba(15, 23, 42, 0.08);
        font-size: 0.95rem;
        line-height: 1.6;
    }

    @media (min-width: 768px) {
        .talk-row {
            gap: 1rem;
            margin-block: 1rem;
        }

        .bubble {
            font-size: 1rem;
        }
    }
</style>
